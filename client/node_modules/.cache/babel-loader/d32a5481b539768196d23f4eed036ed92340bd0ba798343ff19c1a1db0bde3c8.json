{"ast":null,"code":"import copy from 'fast-copy';\nimport qs from 'qs';\nimport isString from 'lodash.isstring';\nimport pThrottle from 'p-throttle';\nimport isPlainObject from 'lodash.isplainobject';\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n  return keys;\n}\nfunction _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), !0).forEach(function (key) {\n      _defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n  return target;\n}\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) {\n    return typeof obj;\n  } : function (obj) {\n    return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n  }, _typeof(obj);\n}\nfunction _wrapRegExp() {\n  _wrapRegExp = function _wrapRegExp(re, groups) {\n    return new BabelRegExp(re, void 0, groups);\n  };\n  var _super = RegExp.prototype,\n    _groups = new WeakMap();\n  function BabelRegExp(re, flags, groups) {\n    var _this = new RegExp(re, flags);\n    return _groups.set(_this, groups || _groups.get(re)), _setPrototypeOf(_this, BabelRegExp.prototype);\n  }\n  function buildGroups(result, re) {\n    var g = _groups.get(re);\n    return Object.keys(g).reduce(function (groups, name) {\n      var i = g[name];\n      if (\"number\" == typeof i) groups[name] = result[i];else {\n        for (var k = 0; void 0 === result[i[k]] && k + 1 < i.length;) {\n          k++;\n        }\n        groups[name] = result[i[k]];\n      }\n      return groups;\n    }, Object.create(null));\n  }\n  return _inherits(BabelRegExp, RegExp), BabelRegExp.prototype.exec = function (str) {\n    var result = _super.exec.call(this, str);\n    return result && (result.groups = buildGroups(result, this)), result;\n  }, BabelRegExp.prototype[Symbol.replace] = function (str, substitution) {\n    if (\"string\" == typeof substitution) {\n      var groups = _groups.get(this);\n      return _super[Symbol.replace].call(this, str, substitution.replace(/\\$<([^>]+)>/g, function (_, name) {\n        return \"$\" + groups[name];\n      }));\n    }\n    if (\"function\" == typeof substitution) {\n      var _this = this;\n      return _super[Symbol.replace].call(this, str, function () {\n        var args = arguments;\n        return \"object\" != typeof args[args.length - 1] && (args = [].slice.call(args)).push(buildGroups(args, _this)), substitution.apply(this, args);\n      });\n    }\n    return _super[Symbol.replace].call(this, str, substitution);\n  }, _wrapRegExp.apply(this, arguments);\n}\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  Object.defineProperty(subClass, \"prototype\", {\n    writable: false\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n  return _setPrototypeOf(o, p);\n}\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();\n}\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\nfunction _iterableToArrayLimit(arr, i) {\n  var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"];\n  if (_i == null) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _s, _e;\n  try {\n    for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n  return _arr;\n}\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n  return arr2;\n}\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\nfunction _createForOfIteratorHelper(o, allowArrayLike) {\n  var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"];\n  if (!it) {\n    if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n      if (it) o = it;\n      var i = 0;\n      var F = function F() {};\n      return {\n        s: F,\n        n: function n() {\n          if (i >= o.length) return {\n            done: true\n          };\n          return {\n            done: false,\n            value: o[i++]\n          };\n        },\n        e: function e(_e2) {\n          throw _e2;\n        },\n        f: F\n      };\n    }\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n  var normalCompletion = true,\n    didErr = false,\n    err;\n  return {\n    s: function s() {\n      it = it.call(o);\n    },\n    n: function n() {\n      var step = it.next();\n      normalCompletion = step.done;\n      return step;\n    },\n    e: function e(_e3) {\n      didErr = true;\n      err = _e3;\n    },\n    f: function f() {\n      try {\n        if (!normalCompletion && it.return != null) it.return();\n      } finally {\n        if (didErr) throw err;\n      }\n    }\n  };\n}\nfunction isNode() {\n  /**\n   * Polyfills of 'process' might set process.browser === true\n   *\n   * See:\n   * https://github.com/webpack/node-libs-browser/blob/master/mock/process.js#L8\n   * https://github.com/defunctzombie/node-process/blob/master/browser.js#L156\n   **/\n  return typeof process !== 'undefined' && !process.browser;\n}\nfunction isReactNative() {\n  return typeof window !== 'undefined' && 'navigator' in window && 'product' in window.navigator && window.navigator.product === 'ReactNative';\n}\nfunction getNodeVersion() {\n  return process.versions && process.versions.node ? \"v\".concat(process.versions.node) : process.version;\n}\nfunction getWindow() {\n  return window;\n}\nfunction noop() {\n  return undefined;\n}\nvar PERCENTAGE_REGEX = /*#__PURE__*/_wrapRegExp(/(\\d+)(%)/, {\n  value: 1\n});\nfunction calculateLimit(type) {\n  var max = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 7;\n  var limit = max;\n  if (PERCENTAGE_REGEX.test(type)) {\n    var _type$match;\n    var groups = (_type$match = type.match(PERCENTAGE_REGEX)) === null || _type$match === void 0 ? void 0 : _type$match.groups;\n    if (groups && groups.value) {\n      var percentage = parseInt(groups.value) / 100;\n      limit = Math.round(max * percentage);\n    }\n  }\n  return Math.min(30, Math.max(1, limit));\n}\nfunction createThrottle(limit, logger) {\n  logger('info', \"Throttle request to \".concat(limit, \"/s\"));\n  return pThrottle({\n    limit: limit,\n    interval: 1000,\n    strict: false\n  });\n}\nvar rateLimitThrottle = function rateLimitThrottle(axiosInstance) {\n  var type = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'auto';\n  var _axiosInstance$defaul = axiosInstance.defaults.logHandler,\n    logHandler = _axiosInstance$defaul === void 0 ? noop : _axiosInstance$defaul;\n  var limit = isString(type) ? calculateLimit(type) : calculateLimit('auto', type);\n  var throttle = createThrottle(limit, logHandler);\n  var isCalculated = false;\n  var requestInterceptorId = axiosInstance.interceptors.request.use(function (config) {\n    return throttle(function () {\n      return config;\n    })();\n  }, function (error) {\n    return Promise.reject(error);\n  });\n  var responseInterceptorId = axiosInstance.interceptors.response.use(function (response) {\n    if (!isCalculated && isString(type) && (type === 'auto' || PERCENTAGE_REGEX.test(type)) && response.headers && response.headers['x-contentful-ratelimit-second-limit']) {\n      var rawLimit = parseInt(response.headers['x-contentful-ratelimit-second-limit']);\n      var nextLimit = calculateLimit(type, rawLimit);\n      if (nextLimit !== limit) {\n        if (requestInterceptorId) {\n          axiosInstance.interceptors.request.eject(requestInterceptorId);\n        }\n        limit = nextLimit;\n        throttle = createThrottle(nextLimit, logHandler);\n        requestInterceptorId = axiosInstance.interceptors.request.use(function (config) {\n          return throttle(function () {\n            return config;\n          })();\n        }, function (error) {\n          return Promise.reject(error);\n        });\n      }\n      isCalculated = true;\n    }\n    return response;\n  }, function (error) {\n    return Promise.reject(error);\n  });\n  return function () {\n    axiosInstance.interceptors.request.eject(requestInterceptorId);\n    axiosInstance.interceptors.response.eject(responseInterceptorId);\n  };\n};\nvar delay = function delay(ms) {\n  return new Promise(function (resolve) {\n    setTimeout(resolve, ms);\n  });\n};\nvar defaultWait = function defaultWait(attempts) {\n  return Math.pow(Math.SQRT2, attempts);\n};\nfunction rateLimit(instance) {\n  var maxRetry = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 5;\n  var _instance$defaults = instance.defaults,\n    _instance$defaults$re = _instance$defaults.responseLogger,\n    responseLogger = _instance$defaults$re === void 0 ? noop : _instance$defaults$re,\n    _instance$defaults$re2 = _instance$defaults.requestLogger,\n    requestLogger = _instance$defaults$re2 === void 0 ? noop : _instance$defaults$re2;\n  instance.interceptors.request.use(function (config) {\n    requestLogger(config);\n    return config;\n  }, function (error) {\n    requestLogger(error);\n    return Promise.reject(error);\n  });\n  instance.interceptors.response.use(function (response) {\n    // we don't need to do anything here\n    responseLogger(response);\n    return response;\n  }, function (error) {\n    var response = error.response;\n    var config = error.config;\n    responseLogger(error);\n    // Do not retry if it is disabled or no request config exists (not an axios error)\n    if (!config || !instance.defaults.retryOnError) {\n      return Promise.reject(error);\n    }\n\n    // Retried already for max attempts\n    var doneAttempts = config.attempts || 1;\n    if (doneAttempts > maxRetry) {\n      error.attempts = config.attempts;\n      return Promise.reject(error);\n    }\n    var retryErrorType = null;\n    var wait = defaultWait(doneAttempts);\n\n    // Errors without response did not receive anything from the server\n    if (!response) {\n      retryErrorType = 'Connection';\n    } else if (response.status >= 500 && response.status < 600) {\n      // 5** errors are server related\n      retryErrorType = \"Server \".concat(response.status);\n    } else if (response.status === 429) {\n      // 429 errors are exceeded rate limit exceptions\n      retryErrorType = 'Rate limit';\n      // all headers are lowercased by axios https://github.com/mzabriskie/axios/issues/413\n      if (response.headers && error.response.headers['x-contentful-ratelimit-reset']) {\n        wait = response.headers['x-contentful-ratelimit-reset'];\n      }\n    }\n    if (retryErrorType) {\n      // convert to ms and add jitter\n      wait = Math.floor(wait * 1000 + Math.random() * 200 + 500);\n      instance.defaults.logHandler('warning', \"\".concat(retryErrorType, \" error occurred. Waiting for \").concat(wait, \" ms before retrying...\"));\n\n      // increase attempts counter\n      config.attempts = doneAttempts + 1;\n\n      /* Somehow between the interceptor and retrying the request the httpAgent/httpsAgent gets transformed from an Agent-like object\n       to a regular object, causing failures on retries after rate limits. Removing these properties here fixes the error, but retry\n       requests still use the original http/httpsAgent property */\n      delete config.httpAgent;\n      delete config.httpsAgent;\n      return delay(wait).then(function () {\n        return instance(config);\n      });\n    }\n    return Promise.reject(error);\n  });\n}\nfunction asyncToken(instance, getToken) {\n  instance.interceptors.request.use(function (config) {\n    return getToken().then(function (accessToken) {\n      config.headers = _objectSpread2(_objectSpread2({}, config.headers), {}, {\n        Authorization: \"Bearer \".concat(accessToken)\n      });\n      return config;\n    });\n  });\n}\n\n// Matches 'sub.host:port' or 'host:port' and extracts hostname and port\n// Also enforces toplevel domain specified, no spaces and no protocol\nvar HOST_REGEX = /^(?!\\w+:\\/\\/)([^\\s:]+\\.?[^\\s:]+)(?::(\\d+))?(?!:)$/;\n\n/**\n * Create pre configured axios instance\n * @private\n * @param {AxiosStatic} axios - Axios library\n * @param {CreateHttpClientParams} options - Initialization parameters for the HTTP client\n * @return {ContentfulAxiosInstance} Initialized axios instance\n */\nfunction createHttpClient(axios, options) {\n  var defaultConfig = {\n    insecure: false,\n    retryOnError: true,\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    logHandler: function logHandler(level, data) {\n      if (level === 'error' && data) {\n        var title = [data.name, data.message].filter(function (a) {\n          return a;\n        }).join(' - ');\n        console.error(\"[error] \".concat(title));\n        console.error(data);\n        return;\n      }\n      console.log(\"[\".concat(level, \"] \").concat(data));\n    },\n    // Passed to axios\n    headers: {},\n    httpAgent: false,\n    httpsAgent: false,\n    timeout: 30000,\n    throttle: 0,\n    proxy: false,\n    basePath: '',\n    adapter: undefined,\n    maxContentLength: 1073741824,\n    // 1GB\n    maxBodyLength: 1073741824 // 1GB\n  };\n\n  var config = _objectSpread2(_objectSpread2({}, defaultConfig), options);\n  if (!config.accessToken) {\n    var missingAccessTokenError = new TypeError('Expected parameter accessToken');\n    config.logHandler('error', missingAccessTokenError);\n    throw missingAccessTokenError;\n  }\n\n  // Construct axios baseURL option\n  var protocol = config.insecure ? 'http' : 'https';\n  var space = config.space ? \"\".concat(config.space, \"/\") : '';\n  var hostname = config.defaultHostname;\n  var port = config.insecure ? 80 : 443;\n  if (config.host && HOST_REGEX.test(config.host)) {\n    var parsed = config.host.split(':');\n    if (parsed.length === 2) {\n      var _parsed = _slicedToArray(parsed, 2);\n      hostname = _parsed[0];\n      port = _parsed[1];\n    } else {\n      hostname = parsed[0];\n    }\n  }\n\n  // Ensure that basePath does start but not end with a slash\n  if (config.basePath) {\n    config.basePath = \"/\".concat(config.basePath.split('/').filter(Boolean).join('/'));\n  }\n  var baseURL = options.baseURL || \"\".concat(protocol, \"://\").concat(hostname, \":\").concat(port).concat(config.basePath, \"/spaces/\").concat(space);\n  if (!config.headers.Authorization && typeof config.accessToken !== 'function') {\n    config.headers.Authorization = 'Bearer ' + config.accessToken;\n  }\n\n  // Set these headers only for node because browsers don't like it when you\n  // override user-agent or accept-encoding.\n  // The SDKs should set their own X-Contentful-User-Agent.\n  if (isNode()) {\n    config.headers['user-agent'] = 'node.js/' + getNodeVersion();\n    config.headers['Accept-Encoding'] = 'gzip';\n  }\n  var axiosOptions = {\n    // Axios\n    baseURL: baseURL,\n    headers: config.headers,\n    httpAgent: config.httpAgent,\n    httpsAgent: config.httpsAgent,\n    paramsSerializer: qs.stringify,\n    proxy: config.proxy,\n    timeout: config.timeout,\n    adapter: config.adapter,\n    maxContentLength: config.maxContentLength,\n    maxBodyLength: config.maxBodyLength,\n    // Contentful\n    logHandler: config.logHandler,\n    responseLogger: config.responseLogger,\n    requestLogger: config.requestLogger,\n    retryOnError: config.retryOnError\n  };\n  var instance = axios.create(axiosOptions);\n  instance.httpClientParams = options;\n\n  /**\n   * Creates a new axios instance with the same default base parameters as the\n   * current one, and with any overrides passed to the newParams object\n   * This is useful as the SDKs use dependency injection to get the axios library\n   * and the version of the library comes from different places depending\n   * on whether it's a browser build or a node.js build.\n   * @private\n   * @param {CreateHttpClientParams} httpClientParams - Initialization parameters for the HTTP client\n   * @return {ContentfulAxiosInstance} Initialized axios instance\n   */\n  instance.cloneWithNewParams = function (newParams) {\n    return createHttpClient(axios, _objectSpread2(_objectSpread2({}, copy(options)), newParams));\n  };\n\n  /**\n   * Apply interceptors.\n   * Please note that the order of interceptors is important\n   */\n\n  if (config.onBeforeRequest) {\n    instance.interceptors.request.use(config.onBeforeRequest);\n  }\n  if (typeof config.accessToken === 'function') {\n    asyncToken(instance, config.accessToken);\n  }\n  if (config.throttle) {\n    rateLimitThrottle(instance, config.throttle);\n  }\n  rateLimit(instance, config.retryLimit);\n  if (config.onError) {\n    instance.interceptors.response.use(function (response) {\n      return response;\n    }, config.onError);\n  }\n  return instance;\n}\n\n/* eslint-disable @typescript-eslint/no-explicit-any */\n/**\n * Creates request parameters configuration by parsing an existing query object\n * @private\n * @param {Object} query\n * @return {Object} Config object with `params` property, ready to be used in axios\n */\nfunction createRequestConfig(_ref) {\n  var query = _ref.query;\n  var config = {};\n  delete query.resolveLinks;\n  config.params = copy(query);\n  return config;\n}\n\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nfunction enforceObjPath(obj, path) {\n  if (!(path in obj)) {\n    var err = new Error();\n    err.name = 'PropertyMissing';\n    err.message = \"Required property \".concat(path, \" missing from:\\n\\n\").concat(JSON.stringify(obj), \"\\n\\n\");\n    throw err;\n  }\n  return true;\n}\n\n// copied from https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/freeze\n\nfunction deepFreeze(object) {\n  var propNames = Object.getOwnPropertyNames(object);\n  var _iterator = _createForOfIteratorHelper(propNames),\n    _step;\n  try {\n    for (_iterator.s(); !(_step = _iterator.n()).done;) {\n      var name = _step.value;\n      var value = object[name];\n      if (value && _typeof(value) === 'object') {\n        deepFreeze(value);\n      }\n    }\n  } catch (err) {\n    _iterator.e(err);\n  } finally {\n    _iterator.f();\n  }\n  return Object.freeze(object);\n}\nfunction freezeSys(obj) {\n  deepFreeze(obj.sys || {});\n  return obj;\n}\nfunction getBrowserOS() {\n  var win = getWindow();\n  if (!win) {\n    return null;\n  }\n  var userAgent = win.navigator.userAgent;\n  // TODO: platform is deprecated.\n  var platform = win.navigator.platform;\n  var macosPlatforms = ['Macintosh', 'MacIntel', 'MacPPC', 'Mac68K'];\n  var windowsPlatforms = ['Win32', 'Win64', 'Windows', 'WinCE'];\n  var iosPlatforms = ['iPhone', 'iPad', 'iPod'];\n  if (macosPlatforms.indexOf(platform) !== -1) {\n    return 'macOS';\n  } else if (iosPlatforms.indexOf(platform) !== -1) {\n    return 'iOS';\n  } else if (windowsPlatforms.indexOf(platform) !== -1) {\n    return 'Windows';\n  } else if (/Android/.test(userAgent)) {\n    return 'Android';\n  } else if (/Linux/.test(platform)) {\n    return 'Linux';\n  }\n  return null;\n}\nfunction getNodeOS() {\n  var platform = process.platform || 'linux';\n  var version = process.version || '0.0.0';\n  var platformMap = {\n    android: 'Android',\n    aix: 'Linux',\n    darwin: 'macOS',\n    freebsd: 'Linux',\n    linux: 'Linux',\n    openbsd: 'Linux',\n    sunos: 'Linux',\n    win32: 'Windows'\n  };\n  if (platform in platformMap) {\n    return \"\".concat(platformMap[platform] || 'Linux', \"/\").concat(version);\n  }\n  return null;\n}\nfunction getUserAgentHeader(sdk, application, integration, feature) {\n  var headerParts = [];\n  if (application) {\n    headerParts.push(\"app \".concat(application));\n  }\n  if (integration) {\n    headerParts.push(\"integration \".concat(integration));\n  }\n  if (feature) {\n    headerParts.push('feature ' + feature);\n  }\n  headerParts.push(\"sdk \".concat(sdk));\n  var platform = null;\n  try {\n    if (isReactNative()) {\n      platform = getBrowserOS();\n      headerParts.push('platform ReactNative');\n    } else if (isNode()) {\n      platform = getNodeOS();\n      headerParts.push(\"platform node.js/\".concat(getNodeVersion()));\n    } else {\n      platform = getBrowserOS();\n      headerParts.push('platform browser');\n    }\n  } catch (e) {\n    platform = null;\n  }\n  if (platform) {\n    headerParts.push(\"os \".concat(platform));\n  }\n  return \"\".concat(headerParts.filter(function (item) {\n    return item !== '';\n  }).join('; '), \";\");\n}\n\n/**\n * Mixes in a method to return just a plain object with no additional methods\n * @private\n * @param data - Any plain JSON response returned from the API\n * @return Enhanced object with toPlainObject method\n */\nfunction toPlainObject(data) {\n  // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n  // @ts-expect-error\n  return Object.defineProperty(data, 'toPlainObject', {\n    enumerable: false,\n    configurable: false,\n    writable: false,\n    value: function value() {\n      return copy(this);\n    }\n  });\n}\n\n/**\n * Handles errors received from the server. Parses the error into a more useful\n * format, places it in an exception and throws it.\n * See https://www.contentful.com/developers/docs/references/errors/\n * for more details on the data received on the errorResponse.data property\n * and the expected error codes.\n * @private\n */\nfunction errorHandler(errorResponse) {\n  var config = errorResponse.config,\n    response = errorResponse.response;\n  var errorName;\n\n  // Obscure the Management token\n  if (config && config.headers && config.headers['Authorization']) {\n    var token = \"...\".concat(config.headers['Authorization'].toString().substr(-5));\n    config.headers['Authorization'] = \"Bearer \".concat(token);\n  }\n  if (!isPlainObject(response) || !isPlainObject(config)) {\n    throw errorResponse;\n  }\n  var data = response === null || response === void 0 ? void 0 : response.data;\n  var errorData = {\n    status: response === null || response === void 0 ? void 0 : response.status,\n    statusText: response === null || response === void 0 ? void 0 : response.statusText,\n    message: '',\n    details: {}\n  };\n  if (isPlainObject(config)) {\n    errorData.request = {\n      url: config.url,\n      headers: config.headers,\n      method: config.method,\n      payloadData: config.data\n    };\n  }\n  if (data && isPlainObject(data)) {\n    if ('requestId' in data) {\n      errorData.requestId = data.requestId || 'UNKNOWN';\n    }\n    if ('message' in data) {\n      errorData.message = data.message || '';\n    }\n    if ('details' in data) {\n      errorData.details = data.details || {};\n    }\n    if ('sys' in data) {\n      if ('id' in data.sys) {\n        errorName = data.sys.id;\n      }\n    }\n  }\n  var error = new Error();\n  error.name = errorName && errorName !== 'Unknown' ? errorName : \"\".concat(response === null || response === void 0 ? void 0 : response.status, \" \").concat(response === null || response === void 0 ? void 0 : response.statusText);\n  try {\n    error.message = JSON.stringify(errorData, null, '  ');\n  } catch (_unused) {\n    var _errorData$message;\n    error.message = (_errorData$message = errorData === null || errorData === void 0 ? void 0 : errorData.message) !== null && _errorData$message !== void 0 ? _errorData$message : '';\n  }\n  throw error;\n}\nexport { createHttpClient, createRequestConfig, enforceObjPath, errorHandler, freezeSys, getUserAgentHeader, toPlainObject };","map":{"version":3,"names":["copy","qs","isString","pThrottle","isPlainObject","ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread2","target","i","arguments","length","source","forEach","key","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","_typeof","obj","Symbol","iterator","constructor","prototype","_wrapRegExp","re","groups","BabelRegExp","_super","RegExp","_groups","WeakMap","flags","_this","set","get","_setPrototypeOf","buildGroups","result","g","reduce","name","k","create","_inherits","exec","str","call","replace","substitution","_","args","slice","value","configurable","writable","subClass","superClass","TypeError","o","p","setPrototypeOf","bind","__proto__","_slicedToArray","arr","_arrayWithHoles","_iterableToArrayLimit","_unsupportedIterableToArray","_nonIterableRest","Array","isArray","_i","_arr","_n","_d","_s","_e","next","done","err","minLen","_arrayLikeToArray","n","toString","from","test","len","arr2","_createForOfIteratorHelper","allowArrayLike","it","F","s","e","f","normalCompletion","didErr","step","return","isNode","process","browser","isReactNative","window","navigator","product","getNodeVersion","versions","node","concat","version","getWindow","noop","undefined","PERCENTAGE_REGEX","calculateLimit","type","max","limit","_type$match","match","percentage","parseInt","Math","round","min","createThrottle","logger","interval","strict","rateLimitThrottle","axiosInstance","_axiosInstance$defaul","defaults","logHandler","throttle","isCalculated","requestInterceptorId","interceptors","request","use","config","error","Promise","reject","responseInterceptorId","response","headers","rawLimit","nextLimit","eject","delay","ms","resolve","setTimeout","defaultWait","attempts","pow","SQRT2","rateLimit","instance","maxRetry","_instance$defaults","_instance$defaults$re","responseLogger","_instance$defaults$re2","requestLogger","retryOnError","doneAttempts","retryErrorType","wait","status","floor","random","httpAgent","httpsAgent","then","asyncToken","getToken","accessToken","Authorization","HOST_REGEX","createHttpClient","axios","options","defaultConfig","insecure","level","data","title","message","a","join","console","log","timeout","proxy","basePath","adapter","maxContentLength","maxBodyLength","missingAccessTokenError","protocol","space","hostname","defaultHostname","port","host","parsed","split","_parsed","Boolean","baseURL","axiosOptions","paramsSerializer","stringify","httpClientParams","cloneWithNewParams","newParams","onBeforeRequest","retryLimit","onError","createRequestConfig","_ref","query","resolveLinks","params","enforceObjPath","path","Error","JSON","deepFreeze","propNames","getOwnPropertyNames","_iterator","_step","freeze","freezeSys","sys","getBrowserOS","win","userAgent","platform","macosPlatforms","windowsPlatforms","iosPlatforms","indexOf","getNodeOS","platformMap","android","aix","darwin","freebsd","linux","openbsd","sunos","win32","getUserAgentHeader","sdk","application","integration","feature","headerParts","item","toPlainObject","errorHandler","errorResponse","errorName","token","substr","errorData","statusText","details","url","method","payloadData","requestId","id","_unused","_errorData$message"],"sources":["C:/Users/dms_2/Desktop/ADM-newSite/client/node_modules/contentful-sdk-core/dist/index.es-modules.js"],"sourcesContent":["import copy from 'fast-copy';\nimport qs from 'qs';\nimport isString from 'lodash.isstring';\nimport pThrottle from 'p-throttle';\nimport isPlainObject from 'lodash.isplainobject';\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n  return keys;\n}\nfunction _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), !0).forEach(function (key) {\n      _defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n  return target;\n}\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) {\n    return typeof obj;\n  } : function (obj) {\n    return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n  }, _typeof(obj);\n}\nfunction _wrapRegExp() {\n  _wrapRegExp = function (re, groups) {\n    return new BabelRegExp(re, void 0, groups);\n  };\n  var _super = RegExp.prototype,\n    _groups = new WeakMap();\n  function BabelRegExp(re, flags, groups) {\n    var _this = new RegExp(re, flags);\n    return _groups.set(_this, groups || _groups.get(re)), _setPrototypeOf(_this, BabelRegExp.prototype);\n  }\n  function buildGroups(result, re) {\n    var g = _groups.get(re);\n    return Object.keys(g).reduce(function (groups, name) {\n      var i = g[name];\n      if (\"number\" == typeof i) groups[name] = result[i];else {\n        for (var k = 0; void 0 === result[i[k]] && k + 1 < i.length;) k++;\n        groups[name] = result[i[k]];\n      }\n      return groups;\n    }, Object.create(null));\n  }\n  return _inherits(BabelRegExp, RegExp), BabelRegExp.prototype.exec = function (str) {\n    var result = _super.exec.call(this, str);\n    return result && (result.groups = buildGroups(result, this)), result;\n  }, BabelRegExp.prototype[Symbol.replace] = function (str, substitution) {\n    if (\"string\" == typeof substitution) {\n      var groups = _groups.get(this);\n      return _super[Symbol.replace].call(this, str, substitution.replace(/\\$<([^>]+)>/g, function (_, name) {\n        return \"$\" + groups[name];\n      }));\n    }\n    if (\"function\" == typeof substitution) {\n      var _this = this;\n      return _super[Symbol.replace].call(this, str, function () {\n        var args = arguments;\n        return \"object\" != typeof args[args.length - 1] && (args = [].slice.call(args)).push(buildGroups(args, _this)), substitution.apply(this, args);\n      });\n    }\n    return _super[Symbol.replace].call(this, str, substitution);\n  }, _wrapRegExp.apply(this, arguments);\n}\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  Object.defineProperty(subClass, \"prototype\", {\n    writable: false\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n  return _setPrototypeOf(o, p);\n}\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();\n}\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\nfunction _iterableToArrayLimit(arr, i) {\n  var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"];\n  if (_i == null) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _s, _e;\n  try {\n    for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n  return _arr;\n}\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n  return arr2;\n}\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\nfunction _createForOfIteratorHelper(o, allowArrayLike) {\n  var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"];\n  if (!it) {\n    if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n      if (it) o = it;\n      var i = 0;\n      var F = function () {};\n      return {\n        s: F,\n        n: function () {\n          if (i >= o.length) return {\n            done: true\n          };\n          return {\n            done: false,\n            value: o[i++]\n          };\n        },\n        e: function (e) {\n          throw e;\n        },\n        f: F\n      };\n    }\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n  var normalCompletion = true,\n    didErr = false,\n    err;\n  return {\n    s: function () {\n      it = it.call(o);\n    },\n    n: function () {\n      var step = it.next();\n      normalCompletion = step.done;\n      return step;\n    },\n    e: function (e) {\n      didErr = true;\n      err = e;\n    },\n    f: function () {\n      try {\n        if (!normalCompletion && it.return != null) it.return();\n      } finally {\n        if (didErr) throw err;\n      }\n    }\n  };\n}\n\nfunction isNode() {\n  /**\n   * Polyfills of 'process' might set process.browser === true\n   *\n   * See:\n   * https://github.com/webpack/node-libs-browser/blob/master/mock/process.js#L8\n   * https://github.com/defunctzombie/node-process/blob/master/browser.js#L156\n   **/\n  return typeof process !== 'undefined' && !process.browser;\n}\nfunction isReactNative() {\n  return typeof window !== 'undefined' && 'navigator' in window && 'product' in window.navigator && window.navigator.product === 'ReactNative';\n}\nfunction getNodeVersion() {\n  return process.versions && process.versions.node ? \"v\".concat(process.versions.node) : process.version;\n}\nfunction getWindow() {\n  return window;\n}\nfunction noop() {\n  return undefined;\n}\n\nvar PERCENTAGE_REGEX = /*#__PURE__*/_wrapRegExp(/(\\d+)(%)/, {\n  value: 1\n});\nfunction calculateLimit(type) {\n  var max = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 7;\n  var limit = max;\n  if (PERCENTAGE_REGEX.test(type)) {\n    var _type$match;\n    var groups = (_type$match = type.match(PERCENTAGE_REGEX)) === null || _type$match === void 0 ? void 0 : _type$match.groups;\n    if (groups && groups.value) {\n      var percentage = parseInt(groups.value) / 100;\n      limit = Math.round(max * percentage);\n    }\n  }\n  return Math.min(30, Math.max(1, limit));\n}\nfunction createThrottle(limit, logger) {\n  logger('info', \"Throttle request to \".concat(limit, \"/s\"));\n  return pThrottle({\n    limit: limit,\n    interval: 1000,\n    strict: false\n  });\n}\nvar rateLimitThrottle = (function (axiosInstance) {\n  var type = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'auto';\n  var _axiosInstance$defaul = axiosInstance.defaults.logHandler,\n    logHandler = _axiosInstance$defaul === void 0 ? noop : _axiosInstance$defaul;\n  var limit = isString(type) ? calculateLimit(type) : calculateLimit('auto', type);\n  var throttle = createThrottle(limit, logHandler);\n  var isCalculated = false;\n  var requestInterceptorId = axiosInstance.interceptors.request.use(function (config) {\n    return throttle(function () {\n      return config;\n    })();\n  }, function (error) {\n    return Promise.reject(error);\n  });\n  var responseInterceptorId = axiosInstance.interceptors.response.use(function (response) {\n    if (!isCalculated && isString(type) && (type === 'auto' || PERCENTAGE_REGEX.test(type)) && response.headers && response.headers['x-contentful-ratelimit-second-limit']) {\n      var rawLimit = parseInt(response.headers['x-contentful-ratelimit-second-limit']);\n      var nextLimit = calculateLimit(type, rawLimit);\n      if (nextLimit !== limit) {\n        if (requestInterceptorId) {\n          axiosInstance.interceptors.request.eject(requestInterceptorId);\n        }\n        limit = nextLimit;\n        throttle = createThrottle(nextLimit, logHandler);\n        requestInterceptorId = axiosInstance.interceptors.request.use(function (config) {\n          return throttle(function () {\n            return config;\n          })();\n        }, function (error) {\n          return Promise.reject(error);\n        });\n      }\n      isCalculated = true;\n    }\n    return response;\n  }, function (error) {\n    return Promise.reject(error);\n  });\n  return function () {\n    axiosInstance.interceptors.request.eject(requestInterceptorId);\n    axiosInstance.interceptors.response.eject(responseInterceptorId);\n  };\n});\n\nvar delay = function delay(ms) {\n  return new Promise(function (resolve) {\n    setTimeout(resolve, ms);\n  });\n};\nvar defaultWait = function defaultWait(attempts) {\n  return Math.pow(Math.SQRT2, attempts);\n};\nfunction rateLimit(instance) {\n  var maxRetry = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 5;\n  var _instance$defaults = instance.defaults,\n    _instance$defaults$re = _instance$defaults.responseLogger,\n    responseLogger = _instance$defaults$re === void 0 ? noop : _instance$defaults$re,\n    _instance$defaults$re2 = _instance$defaults.requestLogger,\n    requestLogger = _instance$defaults$re2 === void 0 ? noop : _instance$defaults$re2;\n  instance.interceptors.request.use(function (config) {\n    requestLogger(config);\n    return config;\n  }, function (error) {\n    requestLogger(error);\n    return Promise.reject(error);\n  });\n  instance.interceptors.response.use(function (response) {\n    // we don't need to do anything here\n    responseLogger(response);\n    return response;\n  }, function (error) {\n    var response = error.response;\n    var config = error.config;\n    responseLogger(error);\n    // Do not retry if it is disabled or no request config exists (not an axios error)\n    if (!config || !instance.defaults.retryOnError) {\n      return Promise.reject(error);\n    }\n\n    // Retried already for max attempts\n    var doneAttempts = config.attempts || 1;\n    if (doneAttempts > maxRetry) {\n      error.attempts = config.attempts;\n      return Promise.reject(error);\n    }\n    var retryErrorType = null;\n    var wait = defaultWait(doneAttempts);\n\n    // Errors without response did not receive anything from the server\n    if (!response) {\n      retryErrorType = 'Connection';\n    } else if (response.status >= 500 && response.status < 600) {\n      // 5** errors are server related\n      retryErrorType = \"Server \".concat(response.status);\n    } else if (response.status === 429) {\n      // 429 errors are exceeded rate limit exceptions\n      retryErrorType = 'Rate limit';\n      // all headers are lowercased by axios https://github.com/mzabriskie/axios/issues/413\n      if (response.headers && error.response.headers['x-contentful-ratelimit-reset']) {\n        wait = response.headers['x-contentful-ratelimit-reset'];\n      }\n    }\n    if (retryErrorType) {\n      // convert to ms and add jitter\n      wait = Math.floor(wait * 1000 + Math.random() * 200 + 500);\n      instance.defaults.logHandler('warning', \"\".concat(retryErrorType, \" error occurred. Waiting for \").concat(wait, \" ms before retrying...\"));\n\n      // increase attempts counter\n      config.attempts = doneAttempts + 1;\n\n      /* Somehow between the interceptor and retrying the request the httpAgent/httpsAgent gets transformed from an Agent-like object\n       to a regular object, causing failures on retries after rate limits. Removing these properties here fixes the error, but retry\n       requests still use the original http/httpsAgent property */\n      delete config.httpAgent;\n      delete config.httpsAgent;\n      return delay(wait).then(function () {\n        return instance(config);\n      });\n    }\n    return Promise.reject(error);\n  });\n}\n\nfunction asyncToken(instance, getToken) {\n  instance.interceptors.request.use(function (config) {\n    return getToken().then(function (accessToken) {\n      config.headers = _objectSpread2(_objectSpread2({}, config.headers), {}, {\n        Authorization: \"Bearer \".concat(accessToken)\n      });\n      return config;\n    });\n  });\n}\n\n// Matches 'sub.host:port' or 'host:port' and extracts hostname and port\n// Also enforces toplevel domain specified, no spaces and no protocol\nvar HOST_REGEX = /^(?!\\w+:\\/\\/)([^\\s:]+\\.?[^\\s:]+)(?::(\\d+))?(?!:)$/;\n\n/**\n * Create pre configured axios instance\n * @private\n * @param {AxiosStatic} axios - Axios library\n * @param {CreateHttpClientParams} options - Initialization parameters for the HTTP client\n * @return {ContentfulAxiosInstance} Initialized axios instance\n */\nfunction createHttpClient(axios, options) {\n  var defaultConfig = {\n    insecure: false,\n    retryOnError: true,\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    logHandler: function logHandler(level, data) {\n      if (level === 'error' && data) {\n        var title = [data.name, data.message].filter(function (a) {\n          return a;\n        }).join(' - ');\n        console.error(\"[error] \".concat(title));\n        console.error(data);\n        return;\n      }\n      console.log(\"[\".concat(level, \"] \").concat(data));\n    },\n    // Passed to axios\n    headers: {},\n    httpAgent: false,\n    httpsAgent: false,\n    timeout: 30000,\n    throttle: 0,\n    proxy: false,\n    basePath: '',\n    adapter: undefined,\n    maxContentLength: 1073741824,\n    // 1GB\n    maxBodyLength: 1073741824 // 1GB\n  };\n\n  var config = _objectSpread2(_objectSpread2({}, defaultConfig), options);\n  if (!config.accessToken) {\n    var missingAccessTokenError = new TypeError('Expected parameter accessToken');\n    config.logHandler('error', missingAccessTokenError);\n    throw missingAccessTokenError;\n  }\n\n  // Construct axios baseURL option\n  var protocol = config.insecure ? 'http' : 'https';\n  var space = config.space ? \"\".concat(config.space, \"/\") : '';\n  var hostname = config.defaultHostname;\n  var port = config.insecure ? 80 : 443;\n  if (config.host && HOST_REGEX.test(config.host)) {\n    var parsed = config.host.split(':');\n    if (parsed.length === 2) {\n      var _parsed = _slicedToArray(parsed, 2);\n      hostname = _parsed[0];\n      port = _parsed[1];\n    } else {\n      hostname = parsed[0];\n    }\n  }\n\n  // Ensure that basePath does start but not end with a slash\n  if (config.basePath) {\n    config.basePath = \"/\".concat(config.basePath.split('/').filter(Boolean).join('/'));\n  }\n  var baseURL = options.baseURL || \"\".concat(protocol, \"://\").concat(hostname, \":\").concat(port).concat(config.basePath, \"/spaces/\").concat(space);\n  if (!config.headers.Authorization && typeof config.accessToken !== 'function') {\n    config.headers.Authorization = 'Bearer ' + config.accessToken;\n  }\n\n  // Set these headers only for node because browsers don't like it when you\n  // override user-agent or accept-encoding.\n  // The SDKs should set their own X-Contentful-User-Agent.\n  if (isNode()) {\n    config.headers['user-agent'] = 'node.js/' + getNodeVersion();\n    config.headers['Accept-Encoding'] = 'gzip';\n  }\n  var axiosOptions = {\n    // Axios\n    baseURL: baseURL,\n    headers: config.headers,\n    httpAgent: config.httpAgent,\n    httpsAgent: config.httpsAgent,\n    paramsSerializer: qs.stringify,\n    proxy: config.proxy,\n    timeout: config.timeout,\n    adapter: config.adapter,\n    maxContentLength: config.maxContentLength,\n    maxBodyLength: config.maxBodyLength,\n    // Contentful\n    logHandler: config.logHandler,\n    responseLogger: config.responseLogger,\n    requestLogger: config.requestLogger,\n    retryOnError: config.retryOnError\n  };\n  var instance = axios.create(axiosOptions);\n  instance.httpClientParams = options;\n\n  /**\n   * Creates a new axios instance with the same default base parameters as the\n   * current one, and with any overrides passed to the newParams object\n   * This is useful as the SDKs use dependency injection to get the axios library\n   * and the version of the library comes from different places depending\n   * on whether it's a browser build or a node.js build.\n   * @private\n   * @param {CreateHttpClientParams} httpClientParams - Initialization parameters for the HTTP client\n   * @return {ContentfulAxiosInstance} Initialized axios instance\n   */\n  instance.cloneWithNewParams = function (newParams) {\n    return createHttpClient(axios, _objectSpread2(_objectSpread2({}, copy(options)), newParams));\n  };\n\n  /**\n   * Apply interceptors.\n   * Please note that the order of interceptors is important\n   */\n\n  if (config.onBeforeRequest) {\n    instance.interceptors.request.use(config.onBeforeRequest);\n  }\n  if (typeof config.accessToken === 'function') {\n    asyncToken(instance, config.accessToken);\n  }\n  if (config.throttle) {\n    rateLimitThrottle(instance, config.throttle);\n  }\n  rateLimit(instance, config.retryLimit);\n  if (config.onError) {\n    instance.interceptors.response.use(function (response) {\n      return response;\n    }, config.onError);\n  }\n  return instance;\n}\n\n/* eslint-disable @typescript-eslint/no-explicit-any */\n/**\n * Creates request parameters configuration by parsing an existing query object\n * @private\n * @param {Object} query\n * @return {Object} Config object with `params` property, ready to be used in axios\n */\nfunction createRequestConfig(_ref) {\n  var query = _ref.query;\n  var config = {};\n  delete query.resolveLinks;\n  config.params = copy(query);\n  return config;\n}\n\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nfunction enforceObjPath(obj, path) {\n  if (!(path in obj)) {\n    var err = new Error();\n    err.name = 'PropertyMissing';\n    err.message = \"Required property \".concat(path, \" missing from:\\n\\n\").concat(JSON.stringify(obj), \"\\n\\n\");\n    throw err;\n  }\n  return true;\n}\n\n// copied from https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/freeze\n\nfunction deepFreeze(object) {\n  var propNames = Object.getOwnPropertyNames(object);\n  var _iterator = _createForOfIteratorHelper(propNames),\n    _step;\n  try {\n    for (_iterator.s(); !(_step = _iterator.n()).done;) {\n      var name = _step.value;\n      var value = object[name];\n      if (value && _typeof(value) === 'object') {\n        deepFreeze(value);\n      }\n    }\n  } catch (err) {\n    _iterator.e(err);\n  } finally {\n    _iterator.f();\n  }\n  return Object.freeze(object);\n}\nfunction freezeSys(obj) {\n  deepFreeze(obj.sys || {});\n  return obj;\n}\n\nfunction getBrowserOS() {\n  var win = getWindow();\n  if (!win) {\n    return null;\n  }\n  var userAgent = win.navigator.userAgent;\n  // TODO: platform is deprecated.\n  var platform = win.navigator.platform;\n  var macosPlatforms = ['Macintosh', 'MacIntel', 'MacPPC', 'Mac68K'];\n  var windowsPlatforms = ['Win32', 'Win64', 'Windows', 'WinCE'];\n  var iosPlatforms = ['iPhone', 'iPad', 'iPod'];\n  if (macosPlatforms.indexOf(platform) !== -1) {\n    return 'macOS';\n  } else if (iosPlatforms.indexOf(platform) !== -1) {\n    return 'iOS';\n  } else if (windowsPlatforms.indexOf(platform) !== -1) {\n    return 'Windows';\n  } else if (/Android/.test(userAgent)) {\n    return 'Android';\n  } else if (/Linux/.test(platform)) {\n    return 'Linux';\n  }\n  return null;\n}\nfunction getNodeOS() {\n  var platform = process.platform || 'linux';\n  var version = process.version || '0.0.0';\n  var platformMap = {\n    android: 'Android',\n    aix: 'Linux',\n    darwin: 'macOS',\n    freebsd: 'Linux',\n    linux: 'Linux',\n    openbsd: 'Linux',\n    sunos: 'Linux',\n    win32: 'Windows'\n  };\n  if (platform in platformMap) {\n    return \"\".concat(platformMap[platform] || 'Linux', \"/\").concat(version);\n  }\n  return null;\n}\nfunction getUserAgentHeader(sdk, application, integration, feature) {\n  var headerParts = [];\n  if (application) {\n    headerParts.push(\"app \".concat(application));\n  }\n  if (integration) {\n    headerParts.push(\"integration \".concat(integration));\n  }\n  if (feature) {\n    headerParts.push('feature ' + feature);\n  }\n  headerParts.push(\"sdk \".concat(sdk));\n  var platform = null;\n  try {\n    if (isReactNative()) {\n      platform = getBrowserOS();\n      headerParts.push('platform ReactNative');\n    } else if (isNode()) {\n      platform = getNodeOS();\n      headerParts.push(\"platform node.js/\".concat(getNodeVersion()));\n    } else {\n      platform = getBrowserOS();\n      headerParts.push('platform browser');\n    }\n  } catch (e) {\n    platform = null;\n  }\n  if (platform) {\n    headerParts.push(\"os \".concat(platform));\n  }\n  return \"\".concat(headerParts.filter(function (item) {\n    return item !== '';\n  }).join('; '), \";\");\n}\n\n/**\n * Mixes in a method to return just a plain object with no additional methods\n * @private\n * @param data - Any plain JSON response returned from the API\n * @return Enhanced object with toPlainObject method\n */\nfunction toPlainObject(data) {\n  // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n  // @ts-expect-error\n  return Object.defineProperty(data, 'toPlainObject', {\n    enumerable: false,\n    configurable: false,\n    writable: false,\n    value: function value() {\n      return copy(this);\n    }\n  });\n}\n\n/**\n * Handles errors received from the server. Parses the error into a more useful\n * format, places it in an exception and throws it.\n * See https://www.contentful.com/developers/docs/references/errors/\n * for more details on the data received on the errorResponse.data property\n * and the expected error codes.\n * @private\n */\nfunction errorHandler(errorResponse) {\n  var config = errorResponse.config,\n    response = errorResponse.response;\n  var errorName;\n\n  // Obscure the Management token\n  if (config && config.headers && config.headers['Authorization']) {\n    var token = \"...\".concat(config.headers['Authorization'].toString().substr(-5));\n    config.headers['Authorization'] = \"Bearer \".concat(token);\n  }\n  if (!isPlainObject(response) || !isPlainObject(config)) {\n    throw errorResponse;\n  }\n  var data = response === null || response === void 0 ? void 0 : response.data;\n  var errorData = {\n    status: response === null || response === void 0 ? void 0 : response.status,\n    statusText: response === null || response === void 0 ? void 0 : response.statusText,\n    message: '',\n    details: {}\n  };\n  if (isPlainObject(config)) {\n    errorData.request = {\n      url: config.url,\n      headers: config.headers,\n      method: config.method,\n      payloadData: config.data\n    };\n  }\n  if (data && isPlainObject(data)) {\n    if ('requestId' in data) {\n      errorData.requestId = data.requestId || 'UNKNOWN';\n    }\n    if ('message' in data) {\n      errorData.message = data.message || '';\n    }\n    if ('details' in data) {\n      errorData.details = data.details || {};\n    }\n    if ('sys' in data) {\n      if ('id' in data.sys) {\n        errorName = data.sys.id;\n      }\n    }\n  }\n  var error = new Error();\n  error.name = errorName && errorName !== 'Unknown' ? errorName : \"\".concat(response === null || response === void 0 ? void 0 : response.status, \" \").concat(response === null || response === void 0 ? void 0 : response.statusText);\n  try {\n    error.message = JSON.stringify(errorData, null, '  ');\n  } catch (_unused) {\n    var _errorData$message;\n    error.message = (_errorData$message = errorData === null || errorData === void 0 ? void 0 : errorData.message) !== null && _errorData$message !== void 0 ? _errorData$message : '';\n  }\n  throw error;\n}\n\nexport { createHttpClient, createRequestConfig, enforceObjPath, errorHandler, freezeSys, getUserAgentHeader, toPlainObject };\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}